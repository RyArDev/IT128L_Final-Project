<div class="container">
  <div class="row">
    <app-alert-system [message]="alertMessage" [success]="alertSuccess" [error]="alertError"></app-alert-system>
    <div class="col-md-12">
      <div class="register-container">
        <div class="image-container">
          <img src="../../../assets/components/register-page/regsiter-icon.png" alt="Registration Image">
        </div>
        <form [formGroup]="registerForm" class="form-container card cardbody-color p-lg-5" autocomplete="on" novalidate (ngSubmit)="registerUser(registerForm.value)">
          <h2>Register</h2>
          <div class="row">
            <div class="col-md-12 mb-4 pb-2">
              <div class="form-outline">
                <label class="form-label" for="UserName">Username</label>
                <input type="text" id="UserName" formControlName="UserName" class="form-control form-control-lg" placeholder="JohnDoe123" />
              </div>
              <div class="col-md-12 text-danger">
                <em *ngIf="validateControl('UserName') && hasError('UserName', 'required')">Username is required and at least 4 chracters long</em>
              </div>
            </div>
          </div>
          <div class="row">
            <div class="col-md-6 mb-4">
              <div class="form-outline">
                <label class="form-label" for="FirstName">First Name</label>
                <input type="text" id="FirstName" formControlName="FirstName" class="form-control form-control-lg" placeholder="John" />
              </div>
              <div class="col-md-12 text-danger">
                <em *ngIf="validateControl('FirstName') && hasError('FirstName', 'required')">First name is required and at least 3 chracters long</em>
              </div>
            </div>
            <div class="col-md-6 mb-4">
              <div class="form-outline">
                <label class="form-label" for="LastName">Last Name</label>
                <input type="text" id="LastName" formControlName="LastName" class="form-control form-control-lg" placeholder="Doe" />
              </div>
              <div class="col-md-12 text-danger">
                <em *ngIf="validateControl('LastName') && hasError('LastName', 'required')">Last name is required and at least 3 chracters long</em>
              </div>
            </div>
          </div>
          <div class="row">
            <div class="col-md-12 mb-4">
              <div class="form-outline">
                <label class="form-label" for="Email">Email</label>
                <input type="email" id="Email" formControlName="Email" class="form-control form-control-lg" placeholder="user@example.com" />
              </div>
              <div class="col-md-6 text-danger">
                <em *ngIf="validateControl('Email') && hasError('Email', 'required')">Email is required</em>
                <em *ngIf="validateControl('Email') && hasError('Email', 'email')">Please provide a valid email</em>
              </div>
            </div>
          </div>
          <div class="row">
            <div class="col-md-6 mb-4 pb-2">
              <div class="form-outline">
                <label class="form-label" for="Password">Password</label>
                <input type="password" id="Password" formControlName="Password" class="form-control form-control-lg" placeholder="Password" />
              </div>
              <div class="col-md-12 text-danger text-justify">
                <em *ngIf="validateControl('Password') && hasError('Password', 'required')">Password is required</em>
                <em *ngIf="hasError('Password', 'pattern')">
                  Password must contain at least one number, one uppercase and a lowercase letter, and a special character.
                  Also, the password must be at least 8 characters and cannot contain whitespace.
                </em>
              </div>
            </div>
            <div class="col-md-6 mb-4 pb-2">
              <div class="form-outline">
                <label class="form-label" for="ConfirmPassword">Confirm Password</label>
                <input type="password" id="ConfirmPassword" formControlName="ConfirmPassword" class="form-control form-control-lg" placeholder="Confirm Password" />
              </div>
              <div class="col-md-12 text-danger">
                <em *ngIf="hasError('ConfirmPassword', 'mustMatch')">Passwords must match</em>
                <em *ngIf="validateControl('ConfirmPassword') && hasError('ConfirmPassword', 'required')">Confirmation is required</em>
              </div>
            </div>
          </div>
          <div class="mt-4 pt-2" *ngIf="!registerForm.valid">
            <input class="btn btn-danger btn-lg" type="submit" value="Register" disabled />
            <em class="col-md-4 text-danger"> Please fill in all the details.</em>
          </div>
          <div class="mt-4 pt-2" *ngIf="registerForm.valid">
            <input class="btn btn-primary btn-lg" type="submit" value="Register" />
          </div>
        </form>
      </div>
    </div>
  </div>
</div>
